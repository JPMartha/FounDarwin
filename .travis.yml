matrix:
  include:
    - os: linux
      language: generic
      dist: trusty
      sudo: required
    - os: osx
      language: objective-c
      osx_image: xcode7.3
before_install:
        - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then DIR="$(pwd)" ; fi
        - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then cd .. ; fi
        - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then export SWIFT_VERSION=swift-DEVELOPMENT-SNAPSHOT-2016-05-09-a ; fi
        - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then wget https://swift.org/builds/development/ubuntu1404/${SWIFT_VERSION}/${SWIFT_VERSION}-ubuntu14.04.tar.gz ; fi
        - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then tar xzf $SWIFT_VERSION-ubuntu14.04.tar.gz ; fi
        - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then export PATH="${PWD}"/${SWIFT_VERSION}-ubuntu14.04/usr/bin:"${PATH}" ; fi
        - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then cd "$DIR" ; fi
        - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then export SWIFT_VERSION=swift-DEVELOPMENT-SNAPSHOT-2016-05-09-a ; fi
        - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then curl -O https://swift.org/builds/development/xcode/${SWIFT_VERSION}/${SWIFT_VERSION}-osx.pkg ; fi
       - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then sudo installer -pkg ${SWIFT_VERSION}-osx.pkg -target / ; fi
       - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then export TOOLCHAINS=swift ; fi
script:
  - swift build
  - swift test
notifications:
  email: false
